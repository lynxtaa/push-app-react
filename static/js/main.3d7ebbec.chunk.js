(this["webpackJsonppush-app-react"]=this["webpackJsonppush-app-react"]||[]).push([[0],{29:function(e,t,n){e.exports=n(40)},34:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),l=n.n(c),o=(n(34),n(14)),u=n(12),i=function(e){var t=e.children;return r.a.createElement("header",null,t)},s=function(e){var t=e.links;return r.a.createElement("ul",{className:"nav nav-pills mb-3"},t.map((function(e){var t=e.link,n=e.text;return r.a.createElement("li",{className:"nav-item",key:t},r.a.createElement(o.b,{to:t,className:"nav-link"},n))})))},m=n(3),f=function(e){var t=e.onClick,n=e.value,a=e.active,c=void 0!==a&&a,l=e.children;return r.a.createElement("button",{className:"btn btn-primary"+(c?" active":""),onClick:t,type:"button",value:n},l)},b=function(e){var t=e.id,n=e.children,r=Object(a.useRef)(document.getElementById(t)||document.createElement("div"));return Object(a.useEffect)((function(){var e=r.current;return document.getElementById(t)||(e.id=t,document.body.insertBefore(e,document.body.firstChild)),function(){document.body.removeChild(e)}})),l.a.createPortal(n,r.current)},d=function(e){var t=e.children,n=e.onClick;return r.a.createElement(b,{id:"alerts"},r.a.createElement("div",{className:"container alert alert-warning alert-dismissible fade show",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:n,"aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),t))},v=function(e){var t=e.children;return r.a.createElement("div",{className:"btn-group"},t)},E=function(e){var t=e.children,n=e.onClick;return r.a.createElement("button",{className:"btn btn-outline-info",onClick:n,type:"button"},t)};var h=function(e){var t=e.times,n=Object(a.useState)(t[0].seconds),c=Object(m.a)(n,2),l=c[0],o=c[1],u=Object(a.useState)(t[0].seconds),i=Object(m.a)(u,2),s=i[0],b=i[1],h=Object(a.useState)(!1),p=Object(m.a)(h,2),j=p[0],O=p[1],k=Object(a.useRef)(0);!function(e,t){var n=Object(a.useRef)(e);Object(a.useEffect)((function(){n.current=e})),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){return n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){var e=Date.now()-k.current,t=s-Math.floor(e/1e3);t>0?o(t):(o(0),O(!1))}),j?1e3:null);var y=Object(a.useCallback)((function(e){var t=Number(e.target.value);b(t),o(t),O(!1)}),[]),g=Object(a.useCallback)((function(){o(s),O(!1)}),[s]),w=Object(a.useCallback)((function(){k.current=Date.now(),O(!0)}),[]);return r.a.createElement("div",{className:"mb-3"},0===l&&r.a.createElement(d,{onClick:g},r.a.createElement("b",null,"Do next!")),r.a.createElement(v,null,t.map((function(e){var t=e.seconds,n=e.label;return r.a.createElement(f,{active:s===t,key:t,onClick:y,value:t},n)})),r.a.createElement(E,{onClick:j?g:w},l)))},p=[1,2,3,4,5,6].map((function(e){return{link:"/".concat(e),text:"Week ".concat(e)}})),j=[{label:"1 min",seconds:60},{label:"2 min",seconds:120}],O=function(){return r.a.createElement(i,null,r.a.createElement(s,{links:p}),r.a.createElement(h,{times:j}))},k=n(4),y=n(7),g=n(10),w=n(9),C=n(11),N=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(C.a)(t,e),Object(y.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?r.a.createElement("div",null,r.a.createElement("h2",{className:"text-danger"},"Something went wrong"),r.a.createElement("small",null,r.a.createElement("details",null,this.state.error&&this.state.error.toString(),this.state.errorInfo.componentStack))):this.props.children}}]),t}(r.a.Component),S=Object(u.h)((function(e){var t=e.children;return r.a.createElement("main",{className:"container p-3"},r.a.createElement(N,null,r.a.createElement(O,null),t))})),x=n(19);var I=function(){var e=Object(a.useState)(),t=Object(m.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(),o=Object(m.a)(l,2),i=o[0],s=o[1];return Object(a.useEffect)((function(){Object(x.a)("route").then((function(e){c(e&&e.day||1),s(e&&e.week||1)}))}),[]),n&&i?r.a.createElement(u.a,{to:"/".concat(i,"/").concat(n)}):null},B=n(16),D=function(e){var t=e.children;return r.a.createElement("ul",{className:"pushlist list-unstyled"},t)},W=n(28),A=n(20),R=function(e){var t=e.onClick,n=e.children,a=e.isHidden,c=Object(A.c)({from:{opacity:0,marginBottom:"0px",height:"0px"},to:{opacity:1,marginBottom:"16px",height:"40px"},config:A.b.gentle,reverse:a});return r.a.createElement(A.a.li,{style:Object(W.a)({},c,{visibility:c.opacity.interpolate((function(e){return 0===e?"hidden":"visible"}))})},r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary w-100",onClick:t},n))},H=function(e){var t=e.sets,n=Object(a.useState)([]),c=Object(m.a)(n,2),l=c[0],o=c[1];return Object(a.useEffect)((function(){o([])}),[t]),r.a.createElement(D,null,t.map((function(e){var t=e.set,n=e.id;return r.a.createElement(R,{key:n,onClick:function(){return o([].concat(Object(B.a)(l),[n]))},isHidden:l.includes(n)},t)})))};var J=function(){var e=function(e){var t=Object(a.useState)(null),n=Object(m.a)(t,2),r=n[0],c=n[1],l=Object(a.useState)(null),o=Object(m.a)(l,2),u=o[0],i=o[1];return Object(a.useEffect)((function(){c(null),i(null);var t=new AbortController;return fetch(e,{signal:t.signal}).then((function(e){return e.json()})).then(c).catch((function(e){return"AbortError"!==e.name&&i(e)})),function(){return t.abort()}}),[e]),[r,u]}("/schedule.json"),t=Object(m.a)(e,2),n=t[0],c=t[1],l=Object(u.g)(),o=l.day,i=l.week;if(Object(a.useEffect)((function(){Object(x.b)("route",{day:o,week:i})}),[o,i]),c)return r.a.createElement("h2",{className:"text-danger"},c.message);if(!n)return r.a.createElement("h2",null,"Loading...");if(!o)return r.a.createElement(u.a,{to:"/".concat(i,"/1")});var f=n.find((function(e){return e.weekNum===Number(i)}));if(!f)throw new Error("Week ".concat(i," not found in schedule"));var b=f.days[Number(o)-1].map((function(e,t){return{id:"".concat(i,"-").concat(o,"-").concat(t),set:e}})),d=[1,2,3].map((function(e){return{link:"/".concat(i,"/").concat(e),text:"Day ".concat(e)}}));return r.a.createElement("div",null,r.a.createElement(s,{links:d}),r.a.createElement(H,{sets:b}))},M=function(){return r.a.createElement(a.StrictMode,null,r.a.createElement(o.a,null,r.a.createElement(S,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/",exact:!0},r.a.createElement(I,null)),r.a.createElement(u.b,{path:"/:week(\\d)/:day(\\d)?"},r.a.createElement(J,null)),r.a.createElement(u.a,{to:"/"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[29,1,2]]]);
//# sourceMappingURL=main.3d7ebbec.chunk.js.map